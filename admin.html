<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PFL Admin Dashboard</title>
<style>
  body { margin:0; font-family: Arial,sans-serif; background:#000; color:#fff; }
  header { background:#111; padding:20px; text-align:center; color:#D4AF37; font-size:24px; font-weight:bold; }
  .container { padding:20px; max-width:800px; margin:auto; }
  label { display:block; margin-top:15px; font-weight:bold; }
  input, select { width:100%; padding:10px; margin-top:5px; border-radius:5px; border:none; }
  button { padding:10px 15px; margin-top:15px; border:none; border-radius:5px; font-weight:bold; cursor:pointer; }
  #goLive { background:red; color:#fff; }
  #saveBtn { background:#D4AF37; color:#000; }
  .live-summary { margin-top:20px; padding:15px; background:#111; border-radius:5px; }
  h3 { color:#D4AF37; margin-bottom:10px; }
</style>
</head>
<body>
<header>PFL Admin Dashboard</header>
<div class="container">
  
  <label for="teamA">Team A:</label>
  <input type="text" id="teamA" placeholder="Enter Team A name">
  
  <label for="teamB">Team B:</label>
  <input type="text" id="teamB" placeholder="Enter Team B name">
  
  <label for="venue">Venue:</label>
  <select id="venue">
    <option value="Mainbowl">Mainbowl</option>
    <option value="Maracana">Maracana</option>
  </select>
  
  <label for="matchTime">Kick-off Date & Time:</label>
  <input type="datetime-local" id="matchTime">
  
  <label for="scoreA">Team A Score (0-6):</label>
  <input type="number" id="scoreA" min="0" max="6" value="0">
  
  <label for="scoreB">Team B Score (0-6):</label>
  <input type="number" id="scoreB" min="0" max="6" value="0">
  
  <label for="status">Match Status:</label>
  <select id="status">
    <option value="upcoming">Upcoming</option>
    <option value="live">Live</option>
    <option value="ended">Ended</option>
  </select>
  
  <button id="goLive" onclick="toggleLive()">Go Live</button>
  <button id="saveBtn" onclick="saveData()">Save Update</button>
  
  <div class="live-summary" id="liveSummary">
    <h3>Current Match Summary</h3>
    <p id="summaryText">No match selected yet.</p>
  </div>
</div>

<script>
let live = false;

function toggleLive(){
  const status = document.getElementById('status');
  live = !live;
  if(live){
    status.value = 'live';
    document.getElementById('goLive').style.background='green';
    document.getElementById('goLive').innerText='End Match';
  } else {
    status.value = 'ended';
    document.getElementById('goLive').style.background='red';
    document.getElementById('goLive').innerText='Go Live';
  }
  updateSummary();
}

function updateSummary(){
  const teamA = document.getElementById('teamA').value || 'Team A';
  const teamB = document.getElementById('teamB').value || 'Team B';
  const scoreA = document.getElementById('scoreA').value;
  const scoreB = document.getElementById('scoreB').value;
  const venue = document.getElementById('venue').value;
  const time = document.getElementById('matchTime').value || 'TBD';
  const status = document.getElementById('status').value;
  document.getElementById('summaryText').innerHTML =
    `<strong>${teamA} ${scoreA} - ${scoreB} ${teamB}</strong><br>
    Venue: ${venue}<br>
    Kick-off: ${time}<br>
    Status: ${status.toUpperCase()}`;
}

function saveData(){
  const matchData = {
    teamA: document.getElementById('teamA').value,
    teamB: document.getElementById('teamB').value,
    venue: document.getElementById('venue').value,
    kickOff: document.getElementById('matchTime').value,
    scoreA: document.getElementById('scoreA').value,
    scoreB: document.getElementById('scoreB').value,
    status: document.getElementById('status').value
  };
  
  // Convert to JSON string
  const json = JSON.stringify(matchData, null, 2);
  
  // Download as data.json manually
  const blob = new Blob([json], {type: "application/json"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "data.json";
  a.click();
  URL.revokeObjectURL(url);
  
  alert("Match data saved! Upload this data.json to your Netlify site to update live.");
}

// Update live summary automatically when inputs change
document.querySelectorAll('input, select').forEach(el => {
  el.addEventListener('input', updateSummary);
});
</script>
</body>
</html>
